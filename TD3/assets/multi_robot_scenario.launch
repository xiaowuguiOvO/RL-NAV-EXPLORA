<launch>
<arg name="gui" value="false"/>

   <!-- Gazebo  -->
  <include file="$(find multi_robot_scenario)/launch/empty_world.launch" />

  <!-- Robot with diff drive -->
  <include file="$(find multi_robot_scenario)/launch/pioneer3dx.gazebo.launch">
     <arg name="robot_name" value="r1" />
     <arg name="robot_position" value="-x 0.0 -y 0.0 -z 0.01 -R 0 -P 0 -Y +0.0" />
   </include>


  <node pkg="pointcloud_to_laserscan" type="pointcloud_to_laserscan_node" name="pointcloud_to_laserscan">
          <remap from="cloud_in" to="/velodyne_points"/>
          <remap from="scan" to="/scan"/>
          
          <rosparam>
              target_frame: base_link  
              min_height: 0.1
              max_height: 1.0
              
              angle_min: -3.1415 # -180 degrees
              angle_max: 3.1415 # +180 degrees
              range_min: 0.3    # 最小识别距离
              range_max: 10.0   # 最大识别距离
          </rosparam>
      </node>

      <!-- <node pkg="gmapping" type="slam_gmapping" name="slam_gmapping">
          <param name="base_frame" value="base_link"/>
          <param name="odom_frame" value="odom"/>
          
          <param name="map_update_interval" value="2.0"/> <param name="maxUrange" value="9.0"/>         <param name="delta" value="0.05"/>          <remap from="scan" to="/scan"/>
      </node> -->

  <!-- RVIZ -->
  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find multi_robot_scenario)/launch/pioneer3dx.rviz" />

</launch>
